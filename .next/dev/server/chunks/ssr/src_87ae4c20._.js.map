{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/hooks/useCategories.js"],"sourcesContent":["import { db } from \"@/firebase/config\";\r\nimport { collection, onSnapshot } from \"firebase/firestore\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport function useCategories() {\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const unsub = onSnapshot(collection(db, \"categories\"), (snapshot) => {\r\n      const list = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n\r\n      setCategories(list);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  return { categories, loading };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;AAEO,SAAS;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,IAAA,+KAAU,EAAC,IAAA,+KAAU,EAAC,+HAAE,EAAE,eAAe,CAAC;YACtD,MAAM,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,MAAQ,CAAC;oBACvC,IAAI,IAAI,EAAE;oBACV,GAAG,IAAI,IAAI,EAAE;gBACf,CAAC;YAED,cAAc;YACd,WAAW;QACb;QAEA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,OAAO;QAAE;QAAY;IAAQ;AAC/B"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/hooks/useAllSubcategories.js"],"sourcesContent":["import { db } from \"@/firebase/config\";\r\nimport { collection, onSnapshot } from \"firebase/firestore\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport function useAllSubcategories() {\r\n  const [subcategories, setSubcategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const unsub = onSnapshot(collection(db, \"subcategories\"), (snapshot) => {\r\n      const list = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setSubcategories(list);\r\n    });\r\n\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  return { subcategories };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;AAEO,SAAS;IACd,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAErD,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,IAAA,+KAAU,EAAC,IAAA,+KAAU,EAAC,+HAAE,EAAE,kBAAkB,CAAC;YACzD,MAAM,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,MAAQ,CAAC;oBACvC,IAAI,IAAI,EAAE;oBACV,GAAG,IAAI,IAAI,EAAE;gBACf,CAAC;YACD,iBAAiB;QACnB;QAEA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,OAAO;QAAE;IAAc;AACzB"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/hooks/useProducts.js"],"sourcesContent":["import { db } from \"@/firebase/config\";\r\nimport { collection, onSnapshot } from \"firebase/firestore\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport function useProducts() {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const unsub = onSnapshot(collection(db, \"products\"), (snapshot) => {\r\n      const list = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setProducts(list);\r\n    });\r\n\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  return { products };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;AAEO,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAE3C,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,IAAA,+KAAU,EAAC,IAAA,+KAAU,EAAC,+HAAE,EAAE,aAAa,CAAC;YACpD,MAAM,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,MAAQ,CAAC;oBACvC,IAAI,IAAI,EAAE;oBACV,GAAG,IAAI,IAAI,EAAE;gBACf,CAAC;YACD,YAAY;QACd;QAEA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,OAAO;QAAE;IAAS;AACpB"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/hooks/useCatalogTree.js"],"sourcesContent":["import { useMemo } from \"react\";\r\nimport { useCategories } from \"./useCategories\";\r\nimport { useAllSubcategories } from \"./useAllSubcategories\";\r\nimport { useProducts } from \"./useProducts\";\r\n\r\nexport function useCatalogTree() {\r\n  const { categories, loading: categoriesLoading } = useCategories();\r\n  const { subcategories } = useAllSubcategories();\r\n  const { products } = useProducts();\r\n\r\n  const catalogTree = useMemo(() => {\r\n    if (!categories.length && !subcategories.length && !products.length) {\r\n      return [];\r\n    }\r\n\r\n    return categories.map((category) => {\r\n      const categoryProducts = products.filter(\r\n        (product) =>\r\n          product.categoryId === category.id &&\r\n          (!product.subcategoryId || product.subcategoryId === \"\")\r\n      );\r\n\r\n      const categorySubcategories = subcategories.filter(\r\n        (sub) => sub.categoryId === category.id\r\n      );\r\n\r\n      const subcategoriesWithProducts = categorySubcategories.map((sub) => {\r\n        const subProducts = products.filter(\r\n          (product) => product.subcategoryId === sub.id\r\n        );\r\n\r\n        return {\r\n          ...sub,\r\n          products: subProducts,\r\n        };\r\n      });\r\n\r\n      return {\r\n        ...category,\r\n        products: categoryProducts,\r\n        subcategories: subcategoriesWithProducts,\r\n      };\r\n    });\r\n  }, [categories, subcategories, products]);\r\n\r\n  const loading = categoriesLoading;\r\n\r\n  return {\r\n    catalogTree,\r\n    loading,\r\n    categories,\r\n    subcategories,\r\n    products,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,SAAS;IACd,MAAM,EAAE,UAAU,EAAE,SAAS,iBAAiB,EAAE,GAAG,IAAA,8IAAa;IAChE,MAAM,EAAE,aAAa,EAAE,GAAG,IAAA,0JAAmB;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,0IAAW;IAEhC,MAAM,cAAc,IAAA,gNAAO,EAAC;QAC1B,IAAI,CAAC,WAAW,MAAM,IAAI,CAAC,cAAc,MAAM,IAAI,CAAC,SAAS,MAAM,EAAE;YACnE,OAAO,EAAE;QACX;QAEA,OAAO,WAAW,GAAG,CAAC,CAAC;YACrB,MAAM,mBAAmB,SAAS,MAAM,CACtC,CAAC,UACC,QAAQ,UAAU,KAAK,SAAS,EAAE,IAClC,CAAC,CAAC,QAAQ,aAAa,IAAI,QAAQ,aAAa,KAAK,EAAE;YAG3D,MAAM,wBAAwB,cAAc,MAAM,CAChD,CAAC,MAAQ,IAAI,UAAU,KAAK,SAAS,EAAE;YAGzC,MAAM,4BAA4B,sBAAsB,GAAG,CAAC,CAAC;gBAC3D,MAAM,cAAc,SAAS,MAAM,CACjC,CAAC,UAAY,QAAQ,aAAa,KAAK,IAAI,EAAE;gBAG/C,OAAO;oBACL,GAAG,GAAG;oBACN,UAAU;gBACZ;YACF;YAEA,OAAO;gBACL,GAAG,QAAQ;gBACX,UAAU;gBACV,eAAe;YACjB;QACF;IACF,GAAG;QAAC;QAAY;QAAe;KAAS;IAExC,MAAM,UAAU;IAEhB,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/app/admin/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useCatalogTree } from \"@/hooks/useCatalogTree\";\r\nimport { FaFolder } from \"react-icons/fa\";\r\nimport { FaFolderTree } from \"react-icons/fa6\";\r\nimport { PiPottedPlantFill } from \"react-icons/pi\";\r\n\r\nexport default function CatalogTreePage() {\r\n  const { catalogTree, loading } = useCatalogTree();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <span className=\"loading loading-spinner text-accent\"></span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!catalogTree.length) {\r\n    return (\r\n      <p className=\"max-w-6xl mx-auto mt-40 text-2xl text-{--leaf-new} font-bold\">\r\n        אין קטגוריות במערכת.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-10 text-right font-mono text-[#084D49] w-full max-w-6xl mx-auto\">\r\n      {catalogTree.map((category) => (\r\n        <div\r\n          key={category.id}\r\n          className=\"border rounded-xl p-4 bg-base-100 shadow-sm mt-8 w-3/4 mx-auto\"\r\n        >\r\n          {/* Category */}\r\n          <div className=\"flex items-center gap-2 mb-2\">\r\n            <FaFolder className=\"text-warning\" />\r\n            <h2 className=\"font-bold text-lg\">\r\n              {category.name}{\" \"}\r\n              <span className=\"text-xs text-gray-500\">({category.slug})</span>\r\n            </h2>\r\n          </div>\r\n\r\n          {/* Products directly under category */}\r\n          {category.products && category.products.length > 0 && (\r\n            <div className=\"ml-6 mb-3\">\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <PiPottedPlantFill className=\"text-success\" />\r\n                <span className=\"font-semibold text-sm\">מוצרים בקטגוריה</span>\r\n              </div>\r\n              <ul className=\"list-disc list-inside text-sm space-y-1\">\r\n                {category.products.map((product) => (\r\n                  <li key={product.id}>\r\n                    {product.title}{\" \"}\r\n                    {product.price && (\r\n                      <span className=\"text-gray-500\">- ₪{product.price}</span>\r\n                    )}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {/* Subcategories */}\r\n          {category.subcategories && category.subcategories.length > 0 && (\r\n            <div className=\"ml-4 space-y-3\">\r\n              {category.subcategories.map((sub) => (\r\n                <div key={sub.id} className=\"border-t pt-2\">\r\n                  <div className=\"flex items-center gap-2 mb-1\">\r\n                    <FaFolderTree className=\"text-info\" />\r\n                    <h3 className=\"font-semibold text-sm\">\r\n                      {sub.name}{\" \"}\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        ({sub.slug})\r\n                      </span>\r\n                    </h3>\r\n                  </div>\r\n\r\n                  {sub.products && sub.products.length > 0 ? (\r\n                    <ul className=\"list-disc list-inside text-sm space-y-1 ml-4\">\r\n                      {sub.products.map((product) => (\r\n                        <li key={product.id}>\r\n                          {product.title}{\" \"}\r\n                          {product.price && (\r\n                            <span className=\"text-gray-500\">\r\n                              - ₪{product.price}\r\n                            </span>\r\n                          )}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  ) : (\r\n                    <p className=\"text-xs text-gray-400 ml-4\">\r\n                      אין מוצרים בתת-קטגוריה זו.\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,IAAA,gJAAc;IAE/C,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAK,WAAU;;;;;;;;;;;IAGtB;IAEA,IAAI,CAAC,YAAY,MAAM,EAAE;QACvB,qBACE,8OAAC;YAAE,WAAU;sBAA+D;;;;;;IAIhF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,YAAY,GAAG,CAAC,CAAC,yBAChB,8OAAC;gBAEC,WAAU;;kCAGV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0JAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC;gCAAG,WAAU;;oCACX,SAAS,IAAI;oCAAE;kDAChB,8OAAC;wCAAK,WAAU;;4CAAwB;4CAAE,SAAS,IAAI;4CAAC;;;;;;;;;;;;;;;;;;;oBAK3D,SAAS,QAAQ,IAAI,SAAS,QAAQ,CAAC,MAAM,GAAG,mBAC/C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,mKAAiB;wCAAC,WAAU;;;;;;kDAC7B,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;0CAE1C,8OAAC;gCAAG,WAAU;0CACX,SAAS,QAAQ,CAAC,GAAG,CAAC,CAAC,wBACtB,8OAAC;;4CACE,QAAQ,KAAK;4CAAE;4CACf,QAAQ,KAAK,kBACZ,8OAAC;gDAAK,WAAU;;oDAAgB;oDAAI,QAAQ,KAAK;;;;;;;;uCAH5C,QAAQ,EAAE;;;;;;;;;;;;;;;;oBAY1B,SAAS,aAAa,IAAI,SAAS,aAAa,CAAC,MAAM,GAAG,mBACzD,8OAAC;wBAAI,WAAU;kCACZ,SAAS,aAAa,CAAC,GAAG,CAAC,CAAC,oBAC3B,8OAAC;gCAAiB,WAAU;;kDAC1B,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,+JAAY;gDAAC,WAAU;;;;;;0DACxB,8OAAC;gDAAG,WAAU;;oDACX,IAAI,IAAI;oDAAE;kEACX,8OAAC;wDAAK,WAAU;;4DAAwB;4DACpC,IAAI,IAAI;4DAAC;;;;;;;;;;;;;;;;;;;oCAKhB,IAAI,QAAQ,IAAI,IAAI,QAAQ,CAAC,MAAM,GAAG,kBACrC,8OAAC;wCAAG,WAAU;kDACX,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC,wBACjB,8OAAC;;oDACE,QAAQ,KAAK;oDAAE;oDACf,QAAQ,KAAK,kBACZ,8OAAC;wDAAK,WAAU;;4DAAgB;4DAC1B,QAAQ,KAAK;;;;;;;;+CAJd,QAAQ,EAAE;;;;;;;;;6DAWvB,8OAAC;wCAAE,WAAU;kDAA6B;;;;;;;+BAzBpC,IAAI,EAAE;;;;;;;;;;;eApCjB,SAAS,EAAE;;;;;;;;;;AAyE1B"}}]
}