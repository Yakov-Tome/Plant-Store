{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/firebase/config.js"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\n};\n\nfunction createFirebaseApp() {\n  return !getApps().length ? initializeApp(firebaseConfig) : getApp();\n}\n\nconst app = createFirebaseApp();\n\nexport const db = getFirestore(app);\nexport const auth = getAuth(app);\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,SAAS;IACP,OAAO,CAAC,IAAA,2KAAO,IAAG,MAAM,GAAG,IAAA,iLAAa,EAAC,kBAAkB,IAAA,0KAAM;AACnE;AAEA,MAAM,MAAM;AAEL,MAAM,KAAK,IAAA,iLAAY,EAAC;AACxB,MAAM,OAAO,IAAA,6KAAO,EAAC"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/context/AuthContext.js"],"sourcesContent":["\"use client\";\n\nimport {\n  createContext,\n  useContext,\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n} from \"react\";\nimport { auth, db } from \"@/firebase/config\";\nimport {\n  onAuthStateChanged,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  signOut,\n} from \"firebase/auth\";\nimport { doc, setDoc, serverTimestamp, getDoc } from \"firebase/firestore\";\n\nconst AuthContext = createContext(null);\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [userData, setUserData] = useState(null);\n  const [isAdmin, setIsAdmin] = useState(undefined);\n  const [loadingAuth, setLoadingAuth] = useState(true);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    const unsubscribe = onAuthStateChanged(auth, async (firebaseUser) => {\n      if (!isMounted) return;\n\n      setUser(firebaseUser);\n\n      if (!firebaseUser) {\n        setUserData(null);\n        setIsAdmin(false);\n        setLoadingAuth(false);\n        console.log(\"No user logged in\");\n        return;\n      }\n\n      try {\n        const userRef = doc(db, \"users\", firebaseUser.uid);\n        const snap = await getDoc(userRef);\n\n        if (!isMounted) return;\n\n        if (snap.exists()) {\n          const data = snap.data();\n          setUserData(data);\n          setIsAdmin(data?.isAdmin === true);\n        } else {\n          setUserData(null);\n          setIsAdmin(false);\n        }\n\n        console.log(\"User loaded from Firestore:\", firebaseUser.uid);\n      } catch (error) {\n        console.error(\"Error handling auth state:\", error);\n        if (isMounted) {\n          setUserData(null);\n          setIsAdmin(false);\n        }\n      } finally {\n        if (isMounted) {\n          setLoadingAuth(false);\n        }\n      }\n    });\n\n    return () => {\n      isMounted = false;\n      unsubscribe();\n    };\n  }, []);\n\n  const signup = useCallback(async (formdata) => {\n    const { email, password, phone, city, address, firstName, lastName } =\n      formdata;\n\n    const result = await createUserWithEmailAndPassword(auth, email, password);\n    const uid = result.user.uid;\n\n    await setDoc(doc(db, \"users\", uid), {\n      name: `${firstName} ${lastName}`,\n      uid,\n      email,\n      phone: phone || null,\n      city: city || null,\n      address: address || null,\n      firstName: firstName || null,\n      lastName: lastName || null,\n      online: true,\n      isAdmin: false,\n      createdAt: serverTimestamp(),\n      lastLogin: serverTimestamp(),\n    });\n\n    return result;\n  }, []);\n\n  const login = useCallback(async (email, password) => {\n    const result = await signInWithEmailAndPassword(auth, email, password);\n    const userId = result.user.uid;\n\n    await setDoc(\n      doc(db, \"users\", userId),\n      {\n        online: true,\n        lastLogin: serverTimestamp(),\n      },\n      { merge: true }\n    );\n\n    return result;\n  }, []);\n\n  const logout = useCallback(async () => {\n    try {\n      if (user?.uid) {\n        await setDoc(\n          doc(db, \"users\", user.uid),\n          {\n            online: false,\n            lastLogin: serverTimestamp(),\n          },\n          { merge: true }\n        );\n      }\n      await signOut(auth);\n    } catch (error) {\n      console.error(\"Error during logout:\", error);\n    }\n  }, [user?.uid]);\n\n  const value = useMemo(\n    () => ({\n      user,\n      userData,\n      isAdmin,\n      loadingAuth,\n      loading: loadingAuth,\n      signup,\n      login,\n      logout,\n    }),\n    [user, userData, isAdmin, loadingAuth, signup, login, logout]\n  );\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  const ctx = useContext(AuthContext);\n  if (!ctx) throw new Error(\"useAuth must be used within AuthProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/components/layout/Navbar.js"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport React from \"react\";\nimport { RiMenu3Fill } from \"react-icons/ri\";\nimport { usePathname } from \"next/navigation\";\nimport { useAuth } from \"@/context/AuthContext\";\n\nfunction Navbar() {\n  const pathname = usePathname();\n\n  const { loadingAuth } = useAuth();\n  const { userData } = useAuth();\n\n  const isAdmin = userData?.isAdmin\n \n  const RouteAll = [\n    { id: \"1\", href: \"/\", name: \"בית\" },\n    { id: \"2\", href: \"/catalog\", name: \"קטלוג מוצרים\" },\n    { id: \"3\", href: \"/faq\", name: \"שאלות נפוצות\" },\n    { id: \"4\", href: \"/contact\", name: \"צור קשר\" },\n  ];\n\n  const RouteA = RouteAll.slice(0, 2);\n  const RouteB = RouteAll.slice(2);\n\n  return (\n    <nav className=\"navbar bg-white/80 backdrop-blur-2xl shadow-md text-[#4F3F31] rounded-full h-16 px-3 sm:px-6 pointer-events-auto font-mono\">\n      {/* ▶ מובייל */}\n      <div className=\"navbar-start flex justify-between w-full\">\n        <div className=\"dropdown\">\n          <button\n            tabIndex={0}\n            className=\"btn btn-ghost active:bg-(--leaf-new) lg:hidden hover:bg-(--leaf-new) rounded-full hover:text-white\"\n          >\n            <RiMenu3Fill size={22} />\n          </button>\n\n          <ul\n            tabIndex={-1}\n            className=\"menu menu-sm dropdown-content rounded-box mt-3 w-52 p-2 shadow bg-white/95\"\n          >\n            {isAdmin && !loadingAuth && (\n              <li\n                key=\"admin\"\n                className={`rounded-2xl ${\n                  pathname === \"/admin\"\n                      ? \"bg-[#95D06F]/20 text-[#95D06F]-content font-bold\"\n                      : \"hover:bg-[#95D06F] hover:text-black\"\n                  }`}\n                >\n                <Link className=\"text-sm\" href=\"/admin\">\n                  ניהול\n                </Link>\n              </li>\n            )}\n            {RouteAll.map((r) => (\n              <li\n                key={r.id}\n                className={`rounded-2xl ${\n                  pathname === r.href\n                      ? \"bg-[#95D06F]/20 text-[#95D06F]-content font-bold\"\n                      : \"hover:bg-[#95D06F] hover:text-black\"\n                  }`}\n                >\n                <Link className=\"text-sm\" href={r.href}>\n                  {r.name}\n                </Link>\n              </li>\n            ))}\n\n          </ul>\n        </div>\n\n        <div className=\"lg:hidden flex items-center\">\n          <h1 className=\"text-xl sm:text-2xl\">המשתלה בנווה צדק</h1>\n        </div>\n\n        <div>\n          <Link href=\"/\">\n            <Image\n              src=\"/logoA.png\"\n              width={120}\n              height={120}\n              alt=\"logo\"\n              className=\"object-contain\"\n            />\n          </Link>\n        </div>\n      </div>\n\n      {/* ▶ דסקטופ */}\n      <div className=\"navbar-center hidden lg:grid lg:min-w-full lg:grid-cols-[1fr_auto_1fr] items-center\">\n        {/* צד ימין */}\n        <ul className=\"menu menu-horizontal px-1 w-full justify-center gap-6\">\n          {RouteA.map((r) => (\n            <li key={r.id}>\n              <Link\n                href={r.href}\n                className={`text-xl transition-all active:bg-(--leaf-new)/0 ${\n                  pathname === r.href\n                    ? \"text-[#95D06F]-content font-bold border-b-2 border-[#95D06F] hover:bg-white/0\"\n                    : \"hover:text-[#95D06F] hover:bg-white/0\"\n                }`}\n              >\n                {r.name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n\n        {/* לוגו */}\n        <div className=\"flex justify-center\">\n          <Link href=\"/\">\n            <Image\n              src=\"/logoA.png\"\n              width={120}\n              height={120}\n              alt=\"logo\"\n              className=\"object-contain\"\n            />\n          </Link>\n        </div>\n\n        {/* צד שמאל */}\n        <ul className=\"menu menu-horizontal px-1 w-full justify-center gap-6 relative\">\n          {RouteB.map((r) => (\n            <li key={r.id}>\n              <Link\n                href={r.href}\n                className={`text-xl transition-all active:bg-(--leaf-new)/0 ${\n                  pathname === r.href\n                    ? \"text-[#95D06F]-content font-bold border-b-2 border-[#95D06F]\"\n                    : \"hover:text-[#95D06F] hover:bg-white/0\"\n                }`}\n              >\n                {r.name}\n              </Link>\n            </li>\n          ))}\n\n        </ul>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,SAAS;IACP,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,wIAAO;IAC/B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,wIAAO;IAE5B,MAAM,UAAU,UAAU;IAE1B,MAAM,WAAW;QACf;YAAE,IAAI;YAAK,MAAM;YAAK,MAAM;QAAM;QAClC;YAAE,IAAI;YAAK,MAAM;YAAY,MAAM;QAAe;QAClD;YAAE,IAAI;YAAK,MAAM;YAAQ,MAAM;QAAe;QAC9C;YAAE,IAAI;YAAK,MAAM;YAAY,MAAM;QAAU;KAC9C;IAED,MAAM,SAAS,SAAS,KAAK,CAAC,GAAG;IACjC,MAAM,SAAS,SAAS,KAAK,CAAC;IAE9B,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,UAAU;gCACV,WAAU;0CAEV,cAAA,8OAAC,6JAAW;oCAAC,MAAM;;;;;;;;;;;0CAGrB,8OAAC;gCACC,UAAU,CAAC;gCACX,WAAU;;oCAET,WAAW,CAAC,6BACX,8OAAC;wCAEC,WAAW,CAAC,YAAY,EACtB,aAAa,WACP,qDACA,uCACJ;kDAEJ,cAAA,8OAAC,uKAAI;4CAAC,WAAU;4CAAU,MAAK;sDAAS;;;;;;uCAPpC;;;;;oCAYP,SAAS,GAAG,CAAC,CAAC,kBACb,8OAAC;4CAEC,WAAW,CAAC,YAAY,EACtB,aAAa,EAAE,IAAI,GACb,qDACA,uCACJ;sDAEJ,cAAA,8OAAC,uKAAI;gDAAC,WAAU;gDAAU,MAAM,EAAE,IAAI;0DACnC,EAAE,IAAI;;;;;;2CARJ,EAAE,EAAE;;;;;;;;;;;;;;;;;kCAgBjB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAG,WAAU;sCAAsB;;;;;;;;;;;kCAGtC,8OAAC;kCACC,cAAA,8OAAC,uKAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC,wIAAK;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,KAAI;gCACJ,WAAU;;;;;;;;;;;;;;;;;;;;;;0BAOlB,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAG,WAAU;kCACX,OAAO,GAAG,CAAC,CAAC,kBACX,8OAAC;0CACC,cAAA,8OAAC,uKAAI;oCACH,MAAM,EAAE,IAAI;oCACZ,WAAW,CAAC,gDAAgD,EAC1D,aAAa,EAAE,IAAI,GACf,kFACA,yCACJ;8CAED,EAAE,IAAI;;;;;;+BATF,EAAE,EAAE;;;;;;;;;;kCAgBjB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,uKAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC,wIAAK;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,KAAI;gCACJ,WAAU;;;;;;;;;;;;;;;;kCAMhB,8OAAC;wBAAG,WAAU;kCACX,OAAO,GAAG,CAAC,CAAC,kBACX,8OAAC;0CACC,cAAA,8OAAC,uKAAI;oCACH,MAAM,EAAE,IAAI;oCACZ,WAAW,CAAC,gDAAgD,EAC1D,aAAa,EAAE,IAAI,GACf,iEACA,yCACJ;8CAED,EAAE,IAAI;;;;;;+BATF,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;AAkBzB;uCAEe"}},
    {"offset": {"line": 558, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/components/ScrollToTop.js"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { FaArrowUp } from \"react-icons/fa\";\n\nexport default function ScrollToTop() {\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (window.scrollY > 100) setShow(true);\n      else setShow(false);\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  const scrollUp = () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  if (!show) return null;\n\n  return (\n    <button\n      onClick={scrollUp}\n      aria-label=\"חזרה לראש העמוד\"\n      className=\"\n        fixed z-50\n        right-4 bottom-24 md:right-6 md:bottom-24\n        lg:bottom-6 lg:right-6\n        bg-white/70 text-(--leaf-new) p-3 rounded-full shadow-xl\n        hover:bg-white/90 transition\n        focus:outline-none focus:ring-1 focus:ring-(--leaf-new)/70 focus:ring-offset-1\n        cursor-pointer\n      \"\n    >\n      <FaArrowUp size={20} />\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI,OAAO,OAAO,GAAG,KAAK,QAAQ;iBAC7B,QAAQ;QACf;QACA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,MAAM,WAAW;QACf,OAAO,QAAQ,CAAC;YAAE,KAAK;YAAG,UAAU;QAAS;IAC/C;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC;QACC,SAAS;QACT,cAAW;QACX,WAAU;kBAUV,cAAA,8OAAC,2JAAS;YAAC,MAAM;;;;;;;;;;;AAGvB"}},
    {"offset": {"line": 607, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/context/CartContext.js"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, useEffect } from \"react\";\n\nconst CartContext = createContext();\n\nexport function CartProvider({ children }) {\n  const [cart, setCart] = useState([]);\n  const [loadingCart, setLoadingCart] = useState(true);\n\n  useEffect(() => {\n    try {\n      if (typeof window !== \"undefined\") {\n        const storedCart = localStorage.getItem(\"cart\");\n        if (storedCart) {\n          setCart(JSON.parse(storedCart));\n        }\n      }\n    } catch (err) {\n      console.error(\"Failed to load cart from localStorage:\", err);\n    } finally {\n      setLoadingCart(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      try {\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n      } catch (err) {\n        console.error(\"Failed to save cart to localStorage:\", err);\n      }\n    }\n  }, [cart]);\n\n  const addToCart = (product) => {\n    setCart((prev) => {\n      const existing = prev.find((item) => item.id === product.id);\n      if (existing) {\n        return prev.map((item) =>\n          item.id === product.id\n            ? { ...item, quantity: item.quantity + 1 }\n            : item\n        );\n      }\n      return [...prev, { ...product, quantity: 1 }];\n    });\n  };\n\n  const removeFromCart = (id) => {\n    setCart((prev) => prev.filter((item) => item.id !== id));\n  };\n\n  const clearCart = () => {\n    setCart([]);\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"cart\");\n    }\n  };\n\n  const increaseQuantity = (id) => {\n    setCart((prev) =>\n      prev.map((item) =>\n        item.id === id ? { ...item, quantity: item.quantity + 1 } : item\n      )\n    );\n  };\n\n  const decreaseQuantity = (id) => {\n    setCart((prev) =>\n      prev\n        .map((item) =>\n          item.id === id\n            ? { ...item, quantity: Math.max(0, item.quantity - 1) }\n            : item\n        )\n        .filter((item) => item.quantity > 0)\n    );\n  };\n\n  const value = {\n    cart,\n    loadingCart,\n    addToCart,\n    removeFromCart,\n    clearCart,\n    increaseQuantity,\n    decreaseQuantity,\n  };\n\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\n}\n\nexport function useCart() {\n  return useContext(CartContext);\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAIA,MAAM,4BAAc,IAAA,sNAAa;AAE1B,SAAS,aAAa,EAAE,QAAQ,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,EAAE;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,IAAI;YACF;;QAMF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0CAA0C;QAC1D,SAAU;YACR,eAAe;QACjB;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR;;IAOF,GAAG;QAAC;KAAK;IAET,MAAM,YAAY,CAAC;QACjB,QAAQ,CAAC;YACP,MAAM,WAAW,KAAK,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,QAAQ,EAAE;YAC3D,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAC,OACf,KAAK,EAAE,KAAK,QAAQ,EAAE,GAClB;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG;oBAAE,IACvC;YAER;YACA,OAAO;mBAAI;gBAAM;oBAAE,GAAG,OAAO;oBAAE,UAAU;gBAAE;aAAE;QAC/C;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,QAAQ,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;IACtD;IAEA,MAAM,YAAY;QAChB,QAAQ,EAAE;QACV;;IAGF;IAEA,MAAM,mBAAmB,CAAC;QACxB,QAAQ,CAAC,OACP,KAAK,GAAG,CAAC,CAAC,OACR,KAAK,EAAE,KAAK,KAAK;oBAAE,GAAG,IAAI;oBAAE,UAAU,KAAK,QAAQ,GAAG;gBAAE,IAAI;IAGlE;IAEA,MAAM,mBAAmB,CAAC;QACxB,QAAQ,CAAC,OACP,KACG,GAAG,CAAC,CAAC,OACJ,KAAK,EAAE,KAAK,KACR;oBAAE,GAAG,IAAI;oBAAE,UAAU,KAAK,GAAG,CAAC,GAAG,KAAK,QAAQ,GAAG;gBAAG,IACpD,MAEL,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,GAAG;IAExC;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAEO,SAAS;IACd,OAAO,IAAA,mNAAU,EAAC;AACpB"}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/app/providers.js"],"sourcesContent":["\"use client\";\n\nimport { AuthProvider } from \"@/context/AuthContext\";\nimport { CartProvider } from \"@/context/CartContext\";\n\nexport default function Providers({ children }) {\n  return (\n    <AuthProvider>\n      <CartProvider>{children}</CartProvider>\n    </AuthProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,UAAU,EAAE,QAAQ,EAAE;IAC5C,qBACE,8OAAC,6IAAY;kBACX,cAAA,8OAAC,6IAAY;sBAAE;;;;;;;;;;;AAGrB"}},
    {"offset": {"line": 731, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/components/ui/ClientDockBar.js"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport { IoHomeOutline, IoSettingsOutline } from \"react-icons/io5\";\nimport { BsCart3 } from \"react-icons/bs\";\nimport { AiOutlineLogout } from \"react-icons/ai\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { useCart } from \"@/context/CartContext\";\n\nexport default function DockBar() {\n  const pathname = usePathname();\n  const { logout, user } = useAuth();\n  const { cart } = useCart();\n\n  const [mounted, setMounted] = useState(false);\n  useEffect(() => setMounted(true), []);\n\n  const cartCount = useMemo(() => {\n    return (cart || []).reduce((sum, item) => sum + (item?.quantity || 0), 0);\n  }, [cart]);\n\n  const isActive = (path) => pathname === path;\n\n  const dockClass =\n    \"dock bg-[#F6F7F3]/80 backdrop-blur-2xl lg:hidden shadow-lg border border-gray-300 rounded-lg h-16 px-6 flex justify-between items-center text-(--leaf-new) will-change-transform transform-gpu\";\n\n  const linkBase = \"transition-transform duration-300 lg:hover:scale-110\";\n  const iconClass = \"shrink-0 scale-100 transform-none\";\n\n  return (\n    <div className={dockClass}>\n      {/* Home */}\n      <Link\n        href=\"/\"\n        className={`${linkBase} ${isActive(\"/\") ? \"dock-active\" : \"\"}`}\n      >\n        <IoHomeOutline size={24} className={iconClass} />\n        <span className=\"dock-label text-sm\">ראשי</span>\n      </Link>\n\n      {/* Cart */}\n      <Link\n        href=\"/cart\"\n        className={`${linkBase} ${isActive(\"/cart\") ? \"dock-active\" : \"\"}`}\n      >\n        <div className=\"indicator\">\n          {/* ✅ Render badge only after mount to avoid hydration mismatch */}\n          {mounted && user && cartCount > 0 && (\n            <span className=\"indicator-item badge badge-sm badge-error text-white\">\n              {cartCount}\n            </span>\n          )}\n          <BsCart3 size={24} className={iconClass} />\n        </div>\n        <span className=\"dock-label text-sm\">עגלה</span>\n      </Link>\n\n      {/* Logged in only (after mount) */}\n      {mounted && user && (\n        <>\n          <Link\n            href=\"/settings\"\n            className={`${linkBase} ${\n              isActive(\"/settings\") ? \"dock-active\" : \"\"\n            }`}\n          >\n            <IoSettingsOutline size={24} className={iconClass} />\n            <span className=\"dock-label text-sm\">הגדרות</span>\n          </Link>\n\n          <button onClick={logout} className={linkBase} type=\"button\">\n            <AiOutlineLogout size={24} className={iconClass} />\n            <span className=\"dock-label text-sm\">התנתק</span>\n          </button>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWe,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wIAAO;IAChC,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wIAAO;IAExB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,IAAA,kNAAS,EAAC,IAAM,WAAW,OAAO,EAAE;IAEpC,MAAM,YAAY,IAAA,gNAAO,EAAC;QACxB,OAAO,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,CAAC,MAAM,YAAY,CAAC,GAAG;IACzE,GAAG;QAAC;KAAK;IAET,MAAM,WAAW,CAAC,OAAS,aAAa;IAExC,MAAM,YACJ;IAEF,MAAM,WAAW;IACjB,MAAM,YAAY;IAElB,qBACE,8OAAC;QAAI,WAAW;;0BAEd,8OAAC,uKAAI;gBACH,MAAK;gBACL,WAAW,GAAG,SAAS,CAAC,EAAE,SAAS,OAAO,gBAAgB,IAAI;;kCAE9D,8OAAC,gKAAa;wBAAC,MAAM;wBAAI,WAAW;;;;;;kCACpC,8OAAC;wBAAK,WAAU;kCAAqB;;;;;;;;;;;;0BAIvC,8OAAC,uKAAI;gBACH,MAAK;gBACL,WAAW,GAAG,SAAS,CAAC,EAAE,SAAS,WAAW,gBAAgB,IAAI;;kCAElE,8OAAC;wBAAI,WAAU;;4BAEZ,WAAW,QAAQ,YAAY,mBAC9B,8OAAC;gCAAK,WAAU;0CACb;;;;;;0CAGL,8OAAC,yJAAO;gCAAC,MAAM;gCAAI,WAAW;;;;;;;;;;;;kCAEhC,8OAAC;wBAAK,WAAU;kCAAqB;;;;;;;;;;;;YAItC,WAAW,sBACV;;kCACE,8OAAC,uKAAI;wBACH,MAAK;wBACL,WAAW,GAAG,SAAS,CAAC,EACtB,SAAS,eAAe,gBAAgB,IACxC;;0CAEF,8OAAC,oKAAiB;gCAAC,MAAM;gCAAI,WAAW;;;;;;0CACxC,8OAAC;gCAAK,WAAU;0CAAqB;;;;;;;;;;;;kCAGvC,8OAAC;wBAAO,SAAS;wBAAQ,WAAW;wBAAU,MAAK;;0CACjD,8OAAC,iKAAe;gCAAC,MAAM;gCAAI,WAAW;;;;;;0CACtC,8OAAC;gCAAK,WAAU;0CAAqB;;;;;;;;;;;;;;;;;;;;AAMjD"}},
    {"offset": {"line": 909, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/git/Plant-Store/src/components/ui/ClientSidebar.js"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\n\nimport { IoHomeOutline, IoSettingsOutline } from \"react-icons/io5\";\nimport { BsCart3 } from \"react-icons/bs\";\nimport { AiOutlineLogout } from \"react-icons/ai\";\nimport { FaStore } from \"react-icons/fa\";\n\nimport { useAuth } from \"@/context/AuthContext\";\nimport { useCart } from \"@/context/CartContext\";\n\nfunction ClientSidebar() {\n  const pathname = usePathname();\n  const { logout, isAdmin } = useAuth();\n  const { cart } = useCart();\n  const { user } = useAuth();\n  const [adminOpen, setAdminOpen] = useState(false);\n  const wrapperRef = useRef(null);\n\n  const isActiveExact = (path) => pathname === path;\n\n  const isAdminActive = (href) => {\n    if (href === \"/admin\") return pathname === \"/admin\";\n    return pathname.startsWith(href);\n  };\n\n  const adminLinkClass = (href) =>\n    `rounded-md px-2 py-1 transition ${\n      isAdminActive(href)\n        ? \"bg-[#95D06F]/20 font-bold text-(--leaf-new)\"\n        : \"hover:bg-[#95D06F]\"\n    }`;\n\n  useEffect(() => {\n    if (!isAdmin || !adminOpen) return;\n\n    const handleClickOutside = (e) => {\n      if (wrapperRef.current && !wrapperRef.current.contains(e.target)) {\n        setAdminOpen(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [adminOpen, isAdmin]);\n\n  useEffect(() => {\n    setAdminOpen(false);\n  }, [pathname]);\n\n  return (\n    <div\n      ref={wrapperRef}\n      className=\"fixed -left-2 top-1/2 -translate-y-1/2 hidden lg:block z-50\"\n    >\n      <ul className=\"menu bg-[#F6F7F3]/80 backdrop-blur-2xl shadow-lg border border-gray-300 rounded-box text-(--leaf-new) gap-1 flex items-center justify-center flex-col p-2\">\n        <li>\n          <Link\n            href=\"/\"\n            className={`tooltip tooltip-right tooltip-success transition-all duration-300 ${\n              isActiveExact(\"/\") ? \"bg-base-300 scale-110\" : \"hover:scale-110\"\n            }`}\n            data-tip=\"בית\"\n          >\n            <IoHomeOutline size={20} />\n          </Link>\n        </li>\n\n        <li>\n          <Link\n            href=\"/cart\"\n            className={`tooltip tooltip-right tooltip-success relative transition-all duration-300 ${\n              isActiveExact(\"/cart\")\n                ? \"bg-base-300 scale-110\"\n                : \"hover:scale-110\"\n            }`}\n            data-tip=\"עגלה\"\n          >\n            <BsCart3 size={20} />\n            {cart.length > 0 && (\n              <span className=\"badge badge-sm badge-error absolute -top-1 -right-1\">\n                {cart.length}\n              </span>\n            )}\n          </Link>\n        </li>\n        {user && (\n          <li>\n            <Link\n              href=\"/settings\"\n              className={`tooltip tooltip-right tooltip-success transition-all duration-300 ${\n                isActiveExact(\"/settings\")\n                  ? \"bg-base-300 scale-110\"\n                  : \"hover:scale-110\"\n              }`}\n              data-tip=\"הגדרות\"\n            >\n              <IoSettingsOutline size={20} />\n            </Link>\n          </li>\n        )}\n\n        {isAdmin && (\n          <li>\n            <button\n              type=\"button\"\n              onClick={() => setAdminOpen((prev) => !prev)}\n              className=\"tooltip tooltip-right tooltip-success hover:scale-110 transition-transform duration-300 flex items-center justify-center\"\n              data-tip=\"ניהול חנות\"\n            >\n              <FaStore size={20} />\n            </button>\n\n            {adminOpen && (\n              <ul className=\"menu bg-white rounded-box border border-gray-200 shadow-inner text-sm min-w-40 mt-2 ml-2 text-black mx-auto p-2 flex flex-col gap-1 justify-center items-center\">\n                <li>\n                  <Link href=\"/admin\" className={adminLinkClass(\"/admin\")}>\n                    לוח ניהול\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    href=\"/admin/categories\"\n                    className={adminLinkClass(\"/admin/categories\")}\n                  >\n                    קטגוריות\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    href=\"/admin/products\"\n                    className={adminLinkClass(\"/admin/products\")}\n                  >\n                    מוצרים\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    href=\"/admin/edit\"\n                    className={adminLinkClass(\"/admin/edit\")}\n                  >\n                    עריכה\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    href=\"/admin/delete\"\n                    className={adminLinkClass(\"/admin/delete\")}\n                  >\n                    מחיקה\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    href=\"/admin/orders\"\n                    className={adminLinkClass(\"/admin/orders\")}\n                  >\n                    הזמנות\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    href=\"/admin/faqs\"\n                    className={adminLinkClass(\"/admin/faqs\")}\n                  >\n                    שאלות ותשובות\n                  </Link>\n                </li>\n              </ul>\n            )}\n          </li>\n        )}\n\n        {user && (\n          <li>\n            <button\n              onClick={logout}\n              className=\"tooltip tooltip-right tooltip-success hover:scale-110\"\n              data-tip=\"יציאה\"\n            >\n              <AiOutlineLogout size={20} />\n            </button>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n\nexport default ClientSidebar;\n"],"names":[],"mappings":"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"}}]
}