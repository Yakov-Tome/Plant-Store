{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/Git/Plant-Store/src/components/Modal.js"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nexport default function Modal({ open, onClose, children }) {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => setMounted(true), []);\n\n  useEffect(() => {\n    if (!open) return;\n    const prev = document.body.style.overflow;\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = prev;\n    };\n  }, [open]);\n\n  useEffect(() => {\n    if (!open) return;\n    const onKeyDown = (e) => {\n      if (e.key === \"Escape\") onClose?.();\n    };\n    window.addEventListener(\"keydown\", onKeyDown);\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\n  }, [open, onClose]);\n\n  if (!open || !mounted) return null;\n\n  return createPortal(\n    <div\n      className=\"fixed inset-0 z-9999 flex items-center justify-center p-4 text-black\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <button\n        type=\"button\"\n        className=\"absolute inset-0 bg-black/50\"\n        onClick={onClose}\n        aria-label=\"Close modal backdrop\"\n      />\n\n      <div className=\"relative z-10 w-full max-w-3xl\">\n        <div className=\"rounded-box shadow-xl\">{children}</div>\n      </div>\n    </div>,\n    document.body\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qPAAQ,EAAC;IAEvC,IAAA,sPAAS,EAAC,IAAM,WAAW,OAAO,EAAE;IAEpC,IAAA,sPAAS,EAAC;QACR,IAAI,CAAC,MAAM;QACX,MAAM,OAAO,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ;QACzC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAC/B,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;KAAK;IAET,IAAA,sPAAS,EAAC;QACR,IAAI,CAAC,MAAM;QACX,MAAM,YAAY,CAAC;YACjB,IAAI,EAAE,GAAG,KAAK,UAAU;QAC1B;QACA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;QAAM;KAAQ;IAElB,IAAI,CAAC,QAAQ,CAAC,SAAS,OAAO;IAE9B,qBAAO,IAAA,gQAAY,gBACjB,kRAAC;QACC,WAAU;QACV,MAAK;QACL,cAAW;;0BAEX,kRAAC;gBACC,MAAK;gBACL,WAAU;gBACV,SAAS;gBACT,cAAW;;;;;;0BAGb,kRAAC;gBAAI,WAAU;0BACb,cAAA,kRAAC;oBAAI,WAAU;8BAAyB;;;;;;;;;;;;;;;;cAG5C,SAAS,IAAI;AAEjB"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/Git/Plant-Store/src/components/ShortId.js"],"sourcesContent":["export default function ShortId(id) {\n  const short = id?.toString().slice(0, 6).toUpperCase();\n  return short;\n}\n"],"names":[],"mappings":";;;;AAAe,SAAS,QAAQ,EAAE;IAChC,MAAM,QAAQ,IAAI,WAAW,MAAM,GAAG,GAAG;IACzC,OAAO;AACT"}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/Git/Plant-Store/src/components/orders/OrderSuccessModal.js"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport ShortId from \"../ShortId\";\n\nexport default function OrderSuccessModal({ order, onClose }) {\n  if (!order) return null;\n  console.log(order);\n\n  return (\n    <div className=\"w-full max-w-2xl font-mono\">\n      <div className=\"bg-base-100 rounded-box border border-base-200 p-5\">\n        <div className=\"flex items-start justify-between gap-3\">\n          <div>\n            <h2 className=\"text-xl font-bold\">✅ ההזמנה נשלחה בהצלחה!</h2>\n            <p className=\"opacity-70 text-sm mt-1\">\n              מספר הזמנה:{\" \"}\n              <span className=\"font-bold\">{ShortId(order.orderId)}</span>\n            </p>\n          </div>\n\n          <button\n            className=\"btn btn-sm btn-outline\"\n            type=\"button\"\n            onClick={onClose}\n          >\n            סגור\n          </button>\n        </div>\n\n        <div className=\"divider my-4\" />\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm\">\n          <div className=\"bg-base-200/40 rounded-box p-3\">\n            <div className=\"font-bold mb-1\">פרטי לקוח</div>\n            <div>שם: {order.name}</div>\n            <div>טלפון: {order.phone}</div>\n            <div>עיר: {order.city}</div>\n            <div>כתובת: {order.address}</div>\n          </div>\n\n          <div className=\"bg-base-200/40 rounded-box p-3\">\n            <div className=\"font-bold mb-1\">סיכום</div>\n            <div>\n              כמות פריטים:{\" \"}\n              {order.items?.reduce((s, i) => s + Number(i.quantity || 0), 0)}\n            </div>\n            <div className=\"font-bold mt-1\">\n              סה״כ לתשלום: ₪{Number(order.total || 0).toFixed(0)}\n            </div>\n            <div className=\"opacity-70 mt-1\">סטטוס: ממתין לאישור</div>\n          </div>\n        </div>\n\n        <div className=\"divider my-4\" />\n\n        <div className=\"text-sm\">\n          <div className=\"font-bold mb-2\">פריטים בהזמנה</div>\n\n          <div className=\"max-h-64 overflow-auto border border-base-200 rounded-box\">\n            <table className=\"table table-sm\">\n              <thead>\n                <tr>\n                  <th>מוצר</th>\n                  <th className=\"text-center\">כמות</th>\n                  <th className=\"text-end\">מחיר</th>\n                  <th className=\"text-end\">סה״כ</th>\n                </tr>\n              </thead>\n              <tbody>\n                {(order.items || []).map((it) => (\n                  <tr key={it.id}>\n                    <td className=\"max-w-[220px] truncate\">{it.name}</td>\n                    <td className=\"text-center\">{it.quantity}</td>\n                    <td className=\"text-end\">\n                      ₪{Number(it.price || 0).toFixed(0)}\n                    </td>\n                    <td className=\"text-end\">\n                      ₪{Number(it.lineTotal || 0).toFixed(0)}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          <button\n            className=\"btn btn-neutral w-full mt-4\"\n            type=\"button\"\n            onClick={onClose}\n          >\n            סיום\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,kBAAkB,EAAE,KAAK,EAAE,OAAO,EAAE;IAC1D,IAAI,CAAC,OAAO,OAAO;IACnB,QAAQ,GAAG,CAAC;IAEZ,qBACE,kRAAC;QAAI,WAAU;kBACb,cAAA,kRAAC;YAAI,WAAU;;8BACb,kRAAC;oBAAI,WAAU;;sCACb,kRAAC;;8CACC,kRAAC;oCAAG,WAAU;8CAAoB;;;;;;8CAClC,kRAAC;oCAAE,WAAU;;wCAA0B;wCACzB;sDACZ,kRAAC;4CAAK,WAAU;sDAAa,IAAA,2KAAO,EAAC,MAAM,OAAO;;;;;;;;;;;;;;;;;;sCAItD,kRAAC;4BACC,WAAU;4BACV,MAAK;4BACL,SAAS;sCACV;;;;;;;;;;;;8BAKH,kRAAC;oBAAI,WAAU;;;;;;8BAEf,kRAAC;oBAAI,WAAU;;sCACb,kRAAC;4BAAI,WAAU;;8CACb,kRAAC;oCAAI,WAAU;8CAAiB;;;;;;8CAChC,kRAAC;;wCAAI;wCAAK,MAAM,IAAI;;;;;;;8CACpB,kRAAC;;wCAAI;wCAAQ,MAAM,KAAK;;;;;;;8CACxB,kRAAC;;wCAAI;wCAAM,MAAM,IAAI;;;;;;;8CACrB,kRAAC;;wCAAI;wCAAQ,MAAM,OAAO;;;;;;;;;;;;;sCAG5B,kRAAC;4BAAI,WAAU;;8CACb,kRAAC;oCAAI,WAAU;8CAAiB;;;;;;8CAChC,kRAAC;;wCAAI;wCACU;wCACZ,MAAM,KAAK,EAAE,OAAO,CAAC,GAAG,IAAM,IAAI,OAAO,EAAE,QAAQ,IAAI,IAAI;;;;;;;8CAE9D,kRAAC;oCAAI,WAAU;;wCAAiB;wCACf,OAAO,MAAM,KAAK,IAAI,GAAG,OAAO,CAAC;;;;;;;8CAElD,kRAAC;oCAAI,WAAU;8CAAkB;;;;;;;;;;;;;;;;;;8BAIrC,kRAAC;oBAAI,WAAU;;;;;;8BAEf,kRAAC;oBAAI,WAAU;;sCACb,kRAAC;4BAAI,WAAU;sCAAiB;;;;;;sCAEhC,kRAAC;4BAAI,WAAU;sCACb,cAAA,kRAAC;gCAAM,WAAU;;kDACf,kRAAC;kDACC,cAAA,kRAAC;;8DACC,kRAAC;8DAAG;;;;;;8DACJ,kRAAC;oDAAG,WAAU;8DAAc;;;;;;8DAC5B,kRAAC;oDAAG,WAAU;8DAAW;;;;;;8DACzB,kRAAC;oDAAG,WAAU;8DAAW;;;;;;;;;;;;;;;;;kDAG7B,kRAAC;kDACE,CAAC,MAAM,KAAK,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,mBACxB,kRAAC;;kEACC,kRAAC;wDAAG,WAAU;kEAA0B,GAAG,IAAI;;;;;;kEAC/C,kRAAC;wDAAG,WAAU;kEAAe,GAAG,QAAQ;;;;;;kEACxC,kRAAC;wDAAG,WAAU;;4DAAW;4DACrB,OAAO,GAAG,KAAK,IAAI,GAAG,OAAO,CAAC;;;;;;;kEAElC,kRAAC;wDAAG,WAAU;;4DAAW;4DACrB,OAAO,GAAG,SAAS,IAAI,GAAG,OAAO,CAAC;;;;;;;;+CAP/B,GAAG,EAAE;;;;;;;;;;;;;;;;;;;;;sCAetB,kRAAC;4BACC,WAAU;4BACV,MAAK;4BACL,SAAS;sCACV;;;;;;;;;;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/Git/Plant-Store/src/hooks/useCreateOrder.js"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useState } from \"react\";\nimport { addDoc, collection, serverTimestamp } from \"firebase/firestore\";\nimport { db } from \"@/firebase/config\";\n\nexport function useCreateOrder() {\n  const [creating, setCreating] = useState(false);\n  const [error, setError] = useState(null);\n  const [createdOrderId, setCreatedOrderId] = useState(null);\n\n  const createOrder = useCallback(async (order) => {\n    setCreating(true);\n    setError(null);\n    setCreatedOrderId(null);\n\n    try {\n      if (!order?.userId) throw new Error(\"Missing userId\");\n      if (!Array.isArray(order?.items) || order.items.length === 0)\n        throw new Error(\"Order items are empty\");\n\n      const ref = collection(db, \"orders\");\n\n      const payload = {\n        userId: String(order.userId),\n        name: String(order.name ?? \"לא סופק\"),\n        address: String(order.address ?? \"לא סופק\"),\n        city: String(order.city ?? \"לא סופק\"),\n        phone: String(order.phone ?? \"לא סופק\"),\n\n        items: order.items.map((it) => ({\n          id: String(it.id),\n          name: String(it.name ?? \"\"),\n          price: Number(it.price ?? 0),\n          quantity: Number(it.quantity ?? 0),\n          lineTotal: Number(\n            it.lineTotal ?? Number(it.price ?? 0) * Number(it.quantity ?? 0)\n          ),\n        })),\n\n        total: Number(order.total ?? 0),\n        approved: Boolean(order.approved ?? false),\n\n        createdAt: serverTimestamp(),\n      };\n\n      const docRef = await addDoc(ref, payload);\n      setCreatedOrderId(docRef.id);\n      return { id: docRef.id };\n    } catch (e) {\n      setError(e);\n      throw e;\n    } finally {\n      setCreating(false);\n    }\n  }, []);\n\n  return { createOrder, creating, error, createdOrderId };\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AAJA;;;;AAMO,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,qPAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qPAAQ,EAAC;IACnC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,qPAAQ,EAAC;IAErD,MAAM,cAAc,IAAA,wPAAW,EAAC,OAAO;QACrC,YAAY;QACZ,SAAS;QACT,kBAAkB;QAElB,IAAI;YACF,IAAI,CAAC,OAAO,QAAQ,MAAM,IAAI,MAAM;YACpC,IAAI,CAAC,MAAM,OAAO,CAAC,OAAO,UAAU,MAAM,KAAK,CAAC,MAAM,KAAK,GACzD,MAAM,IAAI,MAAM;YAElB,MAAM,MAAM,IAAA,mNAAU,EAAC,mKAAE,EAAE;YAE3B,MAAM,UAAU;gBACd,QAAQ,OAAO,MAAM,MAAM;gBAC3B,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,SAAS,OAAO,MAAM,OAAO,IAAI;gBACjC,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,OAAO,OAAO,MAAM,KAAK,IAAI;gBAE7B,OAAO,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,KAAO,CAAC;wBAC9B,IAAI,OAAO,GAAG,EAAE;wBAChB,MAAM,OAAO,GAAG,IAAI,IAAI;wBACxB,OAAO,OAAO,GAAG,KAAK,IAAI;wBAC1B,UAAU,OAAO,GAAG,QAAQ,IAAI;wBAChC,WAAW,OACT,GAAG,SAAS,IAAI,OAAO,GAAG,KAAK,IAAI,KAAK,OAAO,GAAG,QAAQ,IAAI;oBAElE,CAAC;gBAED,OAAO,OAAO,MAAM,KAAK,IAAI;gBAC7B,UAAU,QAAQ,MAAM,QAAQ,IAAI;gBAEpC,WAAW,IAAA,wNAAe;YAC5B;YAEA,MAAM,SAAS,MAAM,IAAA,+MAAM,EAAC,KAAK;YACjC,kBAAkB,OAAO,EAAE;YAC3B,OAAO;gBAAE,IAAI,OAAO,EAAE;YAAC;QACzB,EAAE,OAAO,GAAG;YACV,SAAS;YACT,MAAM;QACR,SAAU;YACR,YAAY;QACd;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;QAAa;QAAU;QAAO;IAAe;AACxD"}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/Git/Plant-Store/src/hooks/generic/useFirestoreDoc.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { doc, onSnapshot, getDoc } from \"firebase/firestore\";\nimport { db } from \"@/firebase/config\";\n\nexport function useFirestoreDoc(\n  path,\n  id,\n  { listen = true, enabled = true } = {}\n) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(!!(path && id && enabled));\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!path || !id || !enabled) return;\n\n    const ref = doc(db, path, id);\n    setLoading(true);\n\n    if (listen) {\n      const unsub = onSnapshot(\n        ref,\n        (snap) => {\n          setData(snap.exists() ? { id: snap.id, ...snap.data() } : null);\n          setLoading(false);\n        },\n        (err) => {\n          setError(err);\n          setLoading(false);\n        }\n      );\n      return () => unsub();\n    } else {\n      getDoc(ref)\n        .then((snap) => {\n          setData(snap.exists() ? { id: snap.id, ...snap.data() } : null);\n        })\n        .catch(setError)\n        .finally(() => setLoading(false));\n    }\n  }, [path, id, listen, enabled]);\n\n  return { data, loading, error };\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;AAEO,SAAS,gBACd,IAAI,EACJ,EAAE,EACF,EAAE,SAAS,IAAI,EAAE,UAAU,IAAI,EAAE,GAAG,CAAC,CAAC;IAEtC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,qPAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qPAAQ,EAAC,CAAC,CAAC,CAAC,QAAQ,MAAM,OAAO;IAC/D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qPAAQ,EAAC;IAEnC,IAAA,sPAAS,EAAC;QACR,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;QAE9B,MAAM,MAAM,IAAA,4MAAG,EAAC,mKAAE,EAAE,MAAM;QAC1B,WAAW;QAEX,IAAI,QAAQ;YACV,MAAM,QAAQ,IAAA,mNAAU,EACtB,KACA,CAAC;gBACC,QAAQ,KAAK,MAAM,KAAK;oBAAE,IAAI,KAAK,EAAE;oBAAE,GAAG,KAAK,IAAI,EAAE;gBAAC,IAAI;gBAC1D,WAAW;YACb,GACA,CAAC;gBACC,SAAS;gBACT,WAAW;YACb;YAEF,OAAO,IAAM;QACf,OAAO;YACL,IAAA,+MAAM,EAAC,KACJ,IAAI,CAAC,CAAC;gBACL,QAAQ,KAAK,MAAM,KAAK;oBAAE,IAAI,KAAK,EAAE;oBAAE,GAAG,KAAK,IAAI,EAAE;gBAAC,IAAI;YAC5D,GACC,KAAK,CAAC,UACN,OAAO,CAAC,IAAM,WAAW;QAC9B;IACF,GAAG;QAAC;QAAM;QAAI;QAAQ;KAAQ;IAE9B,OAAO;QAAE;QAAM;QAAS;IAAM;AAChC"}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/Git/Plant-Store/src/app/cart/page.js"],"sourcesContent":["\"use client\";\n\nimport React, { useMemo, useState } from \"react\";\nimport { AiOutlineClear } from \"react-icons/ai\";\nimport { FaRegTrashAlt } from \"react-icons/fa\";\nimport { CiSquareMinus, CiSquarePlus } from \"react-icons/ci\";\nimport { IoStorefrontOutline } from \"react-icons/io5\";\n\nimport { useAuth } from \"@/context/AuthContext\";\nimport { useCart } from \"@/context/CartContext\";\n\nimport Modal from \"@/components/Modal\";\nimport OrderSuccessModal from \"@/components/orders/OrderSuccessModal\";\nimport { useCreateOrder } from \"@/hooks/useCreateOrder\";\nimport { useFirestoreDoc } from \"@/hooks/generic/useFirestoreDoc\";\n\nexport default function CartContent() {\n  const { user } = useAuth();\n  const {\n    cart,\n    loadingCart,\n    removeFromCart,\n    clearCart,\n    increaseQuantity,\n    decreaseQuantity,\n  } = useCart();\n\n  const [modalOpen, setModalOpen] = useState(false);\n  const [lastOrder, setLastOrder] = useState(null);\n\n  const { data: userData } = useFirestoreDoc(\"users\", user?.uid);\n\n  console.log(\"User Data:\", userData);\n\n  const {\n    createOrder,\n    loading: creatingOrder,\n    createdOrderId,\n    error: createError,\n  } = useCreateOrder();\n\n  const total = useMemo(() => {\n    return (cart || []).reduce(\n      (sum, item) => sum + Number(item.price || 0) * Number(item.quantity || 0),\n      0\n    );\n  }, [cart]);\n\n  const canSend = useMemo(() => {\n    return (\n      !!user?.uid && !loadingCart && !creatingOrder && (cart?.length || 0) > 0\n    );\n  }, [user?.uid, loadingCart, creatingOrder, cart?.length]);\n\n  const handleCloseSuccessModal = () => {\n    setModalOpen(false);\n    clearCart();\n  };\n\n  const handleSendOrder = async () => {\n    if (!user?.uid) return;\n    if (!cart?.length) return;\n\n    const itemsSnapshot = cart.map((item) => ({\n      id: item.id,\n      name: item.name,\n      price: Number(item.price || 0),\n      quantity: Number(item.quantity || 0),\n      lineTotal: Number(item.price || 0) * Number(item.quantity || 0),\n    }));\n\n    const order = {\n      userId: user.uid,\n      name: userData?.name || \"לא סופק\",\n      address: userData?.address || \"לא סופק\",\n      city: userData?.city || \"לא סופק\",\n      phone: userData?.phone || \"לא סופק\",\n      items: itemsSnapshot,\n      total,\n      approved: false,\n      createdAt: new Date().toISOString(),\n    };\n\n    try {\n      const created = await createOrder(order);\n\n      const orderIdString =\n        (typeof created === \"string\" ? created : created?.id) ||\n        (typeof createdOrderId === \"string\"\n          ? createdOrderId\n          : createdOrderId?.id) ||\n        \"—\";\n\n      setLastOrder({ ...order, orderId: orderIdString });\n      setModalOpen(true);\n    } catch (e) {\n      console.error(\"FAILED TO SAVE ORDER:\", e?.message || e);\n    }\n  };\n\n  if (loadingCart) {\n    return (\n      <div className=\"max-w-4xl mx-auto p-4 font-mono\">\n        <div className=\"opacity-70\">טוען עגלה...</div>\n      </div>\n    );\n  }\n\n  if (!cart?.length) {\n    return (\n      <div className=\"max-w-4xl mx-auto p-4 font-mono text-black pt-20\">\n        <div className=\"bg-base-100 rounded-box p-6 border border-base-200\">\n          <h1 className=\"text-xl font-bold mb-2\">העגלה ריקה</h1>\n          <p className=\"opacity-70\">תוסיף מוצרים כדי לבצע הזמנה.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-5xl mx-auto p-4 font-mono text-black pt-20\">\n      <div className=\"bg-white/50 backdrop-blur-2xl p-6 rounded-box border border-base-200\">\n        <div className=\"flex items-center justify-between gap-3 mb-4\">\n          <h1 className=\"text-2xl font-bold\">עגלה</h1>\n\n          <button\n            className=\"btn btn-outline btn-neutral border-(--leaf-new) hover:bg-error hover:text-white hover:border-error\"\n            onClick={clearCart}\n            type=\"button\"\n          >\n            <AiOutlineClear className=\"text-2xl ml-1\" />\n            נקה עגלה\n          </button>\n        </div>\n        {createError ? (\n          <div className=\"alert alert-error mb-4\">\n            <span>אירעה שגיאה ביצירת הזמנה. נסה שוב.</span>\n          </div>\n        ) : null}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n          {/* Items */}\n          <div className=\"lg:col-span-2 space-y-3\">\n            {cart.map((item) => (\n              <div\n                key={item.id}\n                className=\"bg-base-100 rounded-box border border-base-200 p-4 flex items-center justify-between gap-4\"\n              >\n                <div className=\"min-w-0\">\n                  <div className=\"font-bold text-lg truncate\">{item.name}</div>\n                  <div className=\"opacity-70 text-sm\">\n                    ₪{Number(item.price || 0).toFixed(0)} × {item.quantity} ={\" \"}\n                    <span className=\"font-semibold\">\n                      ₪\n                      {(\n                        Number(item.price || 0) * Number(item.quantity || 0)\n                      ).toFixed(0)}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    className=\"btn btn-ghost btn-sm\"\n                    type=\"button\"\n                    onClick={() => decreaseQuantity(item.id)}\n                    aria-label=\"הפחת כמות\"\n                  >\n                    <CiSquareMinus className=\"text-2xl\" />\n                  </button>\n\n                  <span className=\"min-w-8 text-center font-bold\">\n                    {item.quantity}\n                  </span>\n\n                  <button\n                    className=\"btn btn-ghost btn-sm\"\n                    type=\"button\"\n                    onClick={() => increaseQuantity(item.id)}\n                    aria-label=\"הגדל כמות\"\n                  >\n                    <CiSquarePlus className=\"text-2xl\" />\n                  </button>\n\n                  <button\n                    className=\"btn btn-ghost btn-sm text-error\"\n                    type=\"button\"\n                    onClick={() => removeFromCart(item.id)}\n                    aria-label=\"הסר מוצר\"\n                  >\n                    <FaRegTrashAlt />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Summary */}\n          <div className=\"bg-base-100 rounded-box border border-base-200 p-4 h-fit \">\n            <h2 className=\"text-lg font-bold mb-3\">סיכום הזמנה</h2>\n\n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"opacity-70\">כמות פריטים</span>\n                <span className=\"font-semibold\">\n                  {cart.reduce((s, i) => s + Number(i.quantity || 0), 0)}\n                </span>\n              </div>\n\n              <div className=\"flex justify-between\">\n                <span className=\"opacity-70\">סה״כ לתשלום</span>\n                <span className=\"font-bold\">₪{total.toFixed(0)}</span>\n              </div>\n            </div>\n\n            <button\n              className=\"btn btn-neutral bg-(--leaf-new) w-full mt-4 border-(--leaf-new) hover:btn-outline hover:bg-white/0 hover:text-(--leaf-new) hover:shadow-none\"\n              type=\"button\"\n              disabled={!canSend}\n              onClick={handleSendOrder}\n            >\n              <IoStorefrontOutline className=\"text-2xl ml-1\" />\n              {creatingOrder ? \"שולח הזמנה...\" : \"שלח הזמנה לחנות\"}\n            </button>\n\n            {!userData ? (\n              <p className=\"text-xs opacity-60 mt-2\">\n                * פרטי לקוח נטענים מהפרופיל (שם/כתובת/טלפון).\n              </p>\n            ) : null}\n          </div>\n        </div>\n        {/* Success Modal */}\n        <Modal open={modalOpen} onClose={handleCloseSuccessModal}>\n          <OrderSuccessModal\n            order={lastOrder}\n            onClose={handleCloseSuccessModal}\n          />\n        </Modal>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAdA;;;;;;;;;;;;;AAgBe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,4KAAO;IACxB,MAAM,EACJ,IAAI,EACJ,WAAW,EACX,cAAc,EACd,SAAS,EACT,gBAAgB,EAChB,gBAAgB,EACjB,GAAG,IAAA,4KAAO;IAEX,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,qPAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,qPAAQ,EAAC;IAE3C,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,IAAA,iMAAe,EAAC,SAAS,MAAM;IAE1D,QAAQ,GAAG,CAAC,cAAc;IAE1B,MAAM,EACJ,WAAW,EACX,SAAS,aAAa,EACtB,cAAc,EACd,OAAO,WAAW,EACnB,GAAG,IAAA,oLAAc;IAElB,MAAM,QAAQ,IAAA,oPAAO,EAAC;QACpB,OAAO,CAAC,QAAQ,EAAE,EAAE,MAAM,CACxB,CAAC,KAAK,OAAS,MAAM,OAAO,KAAK,KAAK,IAAI,KAAK,OAAO,KAAK,QAAQ,IAAI,IACvE;IAEJ,GAAG;QAAC;KAAK;IAET,MAAM,UAAU,IAAA,oPAAO,EAAC;QACtB,OACE,CAAC,CAAC,MAAM,OAAO,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,UAAU,CAAC,IAAI;IAE3E,GAAG;QAAC,MAAM;QAAK;QAAa;QAAe,MAAM;KAAO;IAExD,MAAM,0BAA0B;QAC9B,aAAa;QACb;IACF;IAEA,MAAM,kBAAkB;QACtB,IAAI,CAAC,MAAM,KAAK;QAChB,IAAI,CAAC,MAAM,QAAQ;QAEnB,MAAM,gBAAgB,KAAK,GAAG,CAAC,CAAC,OAAS,CAAC;gBACxC,IAAI,KAAK,EAAE;gBACX,MAAM,KAAK,IAAI;gBACf,OAAO,OAAO,KAAK,KAAK,IAAI;gBAC5B,UAAU,OAAO,KAAK,QAAQ,IAAI;gBAClC,WAAW,OAAO,KAAK,KAAK,IAAI,KAAK,OAAO,KAAK,QAAQ,IAAI;YAC/D,CAAC;QAED,MAAM,QAAQ;YACZ,QAAQ,KAAK,GAAG;YAChB,MAAM,UAAU,QAAQ;YACxB,SAAS,UAAU,WAAW;YAC9B,MAAM,UAAU,QAAQ;YACxB,OAAO,UAAU,SAAS;YAC1B,OAAO;YACP;YACA,UAAU;YACV,WAAW,IAAI,OAAO,WAAW;QACnC;QAEA,IAAI;YACF,MAAM,UAAU,MAAM,YAAY;YAElC,MAAM,gBACJ,CAAC,OAAO,YAAY,WAAW,UAAU,SAAS,EAAE,KACpD,CAAC,OAAO,mBAAmB,WACvB,iBACA,gBAAgB,EAAE,KACtB;YAEF,aAAa;gBAAE,GAAG,KAAK;gBAAE,SAAS;YAAc;YAChD,aAAa;QACf,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,yBAAyB,GAAG,WAAW;QACvD;IACF;IAEA,IAAI,aAAa;QACf,qBACE,kRAAC;YAAI,WAAU;sBACb,cAAA,kRAAC;gBAAI,WAAU;0BAAa;;;;;;;;;;;IAGlC;IAEA,IAAI,CAAC,MAAM,QAAQ;QACjB,qBACE,kRAAC;YAAI,WAAU;sBACb,cAAA,kRAAC;gBAAI,WAAU;;kCACb,kRAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,kRAAC;wBAAE,WAAU;kCAAa;;;;;;;;;;;;;;;;;IAIlC;IAEA,qBACE,kRAAC;QAAI,WAAU;kBACb,cAAA,kRAAC;YAAI,WAAU;;8BACb,kRAAC;oBAAI,WAAU;;sCACb,kRAAC;4BAAG,WAAU;sCAAqB;;;;;;sCAEnC,kRAAC;4BACC,WAAU;4BACV,SAAS;4BACT,MAAK;;8CAEL,kRAAC,oMAAc;oCAAC,WAAU;;;;;;gCAAkB;;;;;;;;;;;;;gBAI/C,4BACC,kRAAC;oBAAI,WAAU;8BACb,cAAA,kRAAC;kCAAK;;;;;;;;;;2BAEN;8BACJ,kRAAC;oBAAI,WAAU;;sCAEb,kRAAC;4BAAI,WAAU;sCACZ,KAAK,GAAG,CAAC,CAAC,qBACT,kRAAC;oCAEC,WAAU;;sDAEV,kRAAC;4CAAI,WAAU;;8DACb,kRAAC;oDAAI,WAAU;8DAA8B,KAAK,IAAI;;;;;;8DACtD,kRAAC;oDAAI,WAAU;;wDAAqB;wDAChC,OAAO,KAAK,KAAK,IAAI,GAAG,OAAO,CAAC;wDAAG;wDAAI,KAAK,QAAQ;wDAAC;wDAAG;sEAC1D,kRAAC;4DAAK,WAAU;;gEAAgB;gEAE7B,CACC,OAAO,KAAK,KAAK,IAAI,KAAK,OAAO,KAAK,QAAQ,IAAI,EACpD,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;sDAKhB,kRAAC;4CAAI,WAAU;;8DACb,kRAAC;oDACC,WAAU;oDACV,MAAK;oDACL,SAAS,IAAM,iBAAiB,KAAK,EAAE;oDACvC,cAAW;8DAEX,cAAA,kRAAC,mMAAa;wDAAC,WAAU;;;;;;;;;;;8DAG3B,kRAAC;oDAAK,WAAU;8DACb,KAAK,QAAQ;;;;;;8DAGhB,kRAAC;oDACC,WAAU;oDACV,MAAK;oDACL,SAAS,IAAM,iBAAiB,KAAK,EAAE;oDACvC,cAAW;8DAEX,cAAA,kRAAC,kMAAY;wDAAC,WAAU;;;;;;;;;;;8DAG1B,kRAAC;oDACC,WAAU;oDACV,MAAK;oDACL,SAAS,IAAM,eAAe,KAAK,EAAE;oDACrC,cAAW;8DAEX,cAAA,kRAAC,mMAAa;;;;;;;;;;;;;;;;;mCA7Cb,KAAK,EAAE;;;;;;;;;;sCAqDlB,kRAAC;4BAAI,WAAU;;8CACb,kRAAC;oCAAG,WAAU;8CAAyB;;;;;;8CAEvC,kRAAC;oCAAI,WAAU;;sDACb,kRAAC;4CAAI,WAAU;;8DACb,kRAAC;oDAAK,WAAU;8DAAa;;;;;;8DAC7B,kRAAC;oDAAK,WAAU;8DACb,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,OAAO,EAAE,QAAQ,IAAI,IAAI;;;;;;;;;;;;sDAIxD,kRAAC;4CAAI,WAAU;;8DACb,kRAAC;oDAAK,WAAU;8DAAa;;;;;;8DAC7B,kRAAC;oDAAK,WAAU;;wDAAY;wDAAE,MAAM,OAAO,CAAC;;;;;;;;;;;;;;;;;;;8CAIhD,kRAAC;oCACC,WAAU;oCACV,MAAK;oCACL,UAAU,CAAC;oCACX,SAAS;;sDAET,kRAAC,0MAAmB;4CAAC,WAAU;;;;;;wCAC9B,gBAAgB,kBAAkB;;;;;;;gCAGpC,CAAC,yBACA,kRAAC;oCAAE,WAAU;8CAA0B;;;;;2CAGrC;;;;;;;;;;;;;8BAIR,kRAAC,yKAAK;oBAAC,MAAM;oBAAW,SAAS;8BAC/B,cAAA,kRAAC,+LAAiB;wBAChB,OAAO;wBACP,SAAS;;;;;;;;;;;;;;;;;;;;;;AAMrB"}}]
}