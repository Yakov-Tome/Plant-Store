{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/Git/Plant-Store/src/components/auth/RequireAuth.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\nexport default function RequireAuth({ children }) {\r\n  const { user, loadingAuth } = useAuth();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n\r\n  useEffect(() => {\r\n    if (!loadingAuth && !user) {\r\n      // Redirect to login and keep \"from\" so you can redirect back\r\n      router.replace(`/login?from=${encodeURIComponent(pathname)}`);\r\n    }\r\n  }, [user, loadingAuth, router, pathname]);\r\n\r\n  if (loadingAuth) {\r\n    // You can replace with nice spinner (DaisyUI)\r\n    return (\r\n      <div className=\"flex justify-center items-center h-screen\">טוען...</div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return null; // while redirecting\r\n  }\r\n\r\n  return children;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,YAAY,EAAE,QAAQ,EAAE;IAC9C,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG,IAAA,4KAAO;IACrC,MAAM,SAAS,IAAA,mLAAS;IACxB,MAAM,WAAW,IAAA,qLAAW;IAE5B,IAAA,sPAAS,EAAC;QACR,IAAI,CAAC,eAAe,CAAC,MAAM;YACzB,6DAA6D;YAC7D,OAAO,OAAO,CAAC,CAAC,YAAY,EAAE,mBAAmB,WAAW;QAC9D;IACF,GAAG;QAAC;QAAM;QAAa;QAAQ;KAAS;IAExC,IAAI,aAAa;QACf,8CAA8C;QAC9C,qBACE,kRAAC;YAAI,WAAU;sBAA4C;;;;;;IAE/D;IAEA,IAAI,CAAC,MAAM;QACT,OAAO,MAAM,oBAAoB;IACnC;IAEA,OAAO;AACT"}}]
}